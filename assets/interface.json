{
    "interface_version": 2,
    "name": "MaaStarResonance",
    "url": "https://github.com/233Official/MaaStarResonance",
    "mirrorchyan_rid": "MaaStarResonance",
    "mirrorchyan_multiplatform": true,
    "version": "v0.5.6",
    "title": "星痕共鸣MAA小助手",
    "icon": "./assets/logo.ico",
    "message": "早期开发版本,欢迎反馈问题与建议",
    "github": "https://github.com/233Official/MaaStarResonance",
    "license": "./LICENSE",
    "controller": [
        {
            "name": "模拟器",
            "type": "Adb",
            "adb": {
                // 输入方式：EmulatorExtras > Maatouch > MinitouchAndAdbKey > AdbShell => 按位或 1 | 2 | 4 | 8 为：15
                "input": 15,
                // 截图方式：EmulatorExtras > RawWithGzip > Encode > EncodeToFileAndPull => 按位或 1 | 2 | 4 | 64 为：71
                "screencap": 71
            }
        }
    ],
    "resource": [
        {
            "name": "国服",
            "path": [
                "{PROJECT_DIR}/resource/base"
            ]
        },
        {
            "name": "国际服（暂未支持）",
            "path": [
                "{PROJECT_DIR}/resource/global"
            ]
        },
        {
            "name": "日服（暂未支持）",
            "path": [
                "{PROJECT_DIR}/resource/jp"
            ]
        }
    ],
    "agent": {
        // 使用项目下用 uv 管理的虚拟环境
        "child_exec": "{PROJECT_DIR}/../.venv/Scripts/python.exe",
        // macOS
        // "child_exec": "{PROJECT_DIR}/../.venv/bin/python3",
        // 使用项目打包的 embeddable Python
        // "child_exec": "{PROJECT_DIR}/python/python.exe",
        "child_args": [
            "{PROJECT_DIR}/../agent/main.py"
        ]
    },
    "task": [
        {
            "name": "启动星痕共鸣",
            "entry": "启动指定APP"
        },
        {
            "name": "关闭星痕共鸣",
            "entry": "关闭指定APP"
        },
        {
            "name": "重启星痕共鸣",
            "entry": "重启指定APP"
        },
        {
            "name": "重启并登录星痕共鸣",
            "entry": "重启并登录星痕共鸣",
            "advanced": [
                "登录超时时长",
                "场景切换超时时长"
            ]
        },
        {
            "name": "自动协会狩猎",
            "entry": "自动协会狩猎"
        },
        {
            "name": "自动挂Lv10茧",
            "entry": "自动挂Lv10茧"
        },
        {
            "name": "简易采集",
            "entry": "简易采集",
            "option": [
                "采集方案"
            ]
        },
        {
            "name": "自动钓鱼",
            "entry": "启动自动钓鱼入口",
            "option": [
                "自动购买鱼竿选择",
                "自动购买鱼饵选择",
                "如遇到不可恢复异常是否重启游戏"
            ],
            "advanced": [
                "需要的最大成功钓鱼数量"
            ]
        },
        {
            "name": "领取今日活跃度奖励",
            "entry": "领取今日活跃度奖励"
        }
        // {
        //     "name": "打开一键连招",
        //     "entry": "打开一键连招"
        // },
        // {
        //     "name": "关闭一键连招",
        //     "entry": "关闭一键连招"
        // },
        // {
        //     "name": "从省电模式唤醒",
        //     "entry": "从省电模式唤醒"
        // }
    ],
    "option": {
        "自动购买鱼竿选择": {
            "cases": [
                {
                    "name": "普通鱼竿",
                    "pipeline_override": {
                        "选择并购买需要的鱼竿": {
                            "action": {
                                "param": {
                                    "target": [
                                        806,
                                        158,
                                        80,
                                        25
                                    ]
                                }
                            }
                        }
                    }
                },
                {
                    "name": "强韧鱼竿",
                    "pipeline_override": {
                        "选择并购买需要的鱼竿": {
                            "action": {
                                "param": {
                                    "target": [
                                        1012,
                                        160,
                                        80,
                                        23
                                    ]
                                }
                            }
                        }
                    }
                },
                {
                    "name": "柔韧鱼竿",
                    "pipeline_override": {
                        "选择并购买需要的鱼竿": {
                            "action": {
                                "param": {
                                    "target": [
                                        187,
                                        418,
                                        77,
                                        26
                                    ]
                                }
                            }
                        }
                    }
                }
            ]
        },
        "自动购买鱼饵选择": {
            "cases": [
                {
                    "name": "普通鱼饵",
                    "pipeline_override": {
                        "选择并购买需要的鱼饵": {
                            "action": {
                                "param": {
                                    "target": [
                                        188,
                                        158,
                                        77,
                                        25
                                    ]
                                }
                            }
                        }
                    }
                },
                {
                    "name": "不空军鱼饵",
                    "pipeline_override": {
                        "选择并购买需要的鱼饵": {
                            "action": {
                                "param": {
                                    "target": [
                                        385,
                                        159,
                                        96,
                                        25
                                    ]
                                }
                            }
                        }
                    }
                },
                {
                    "name": "特制鱼饵",
                    "pipeline_override": {
                        "选择并购买需要的鱼饵": {
                            "action": {
                                "param": {
                                    "target": [
                                        599,
                                        157,
                                        78,
                                        26
                                    ]
                                }
                            }
                        }
                    }
                }
            ]
        },
        "如遇到不可恢复异常是否重启游戏": {
            "cases": [
                {
                    "name": "是",
                    "pipeline_override": {
                        "获取参数-是否重启游戏": {
                            "attach": {
                                "restart_for_except": true
                            }
                        }
                    }
                },
                {
                    "name": "否",
                    "pipeline_override": {
                        "获取参数-是否重启游戏": {
                            "attach": {
                                "restart_for_except": false
                            }
                        }
                    }
                }
            ]
        },
        "采集方案": {
            "cases": [
                {
                    "name": "专注采集",
                    "pipeline_override": {
                        "专注采集": {
                            "enabled": true
                        },
                        "普通采集": {
                            "enabled": false
                        }
                    }
                },
                {
                    "name": "普通采集",
                    "pipeline_override": {
                        "专注采集": {
                            "enabled": false
                        },
                        "普通采集": {
                            "enabled": true
                        }
                    }
                }
            ]
        }
    },
    "advanced": {
        "需要的最大成功钓鱼数量": {
            "field": [
                "需要的最大成功钓鱼数量"
            ],
            "type": [
                "int"
            ],
            "default": [
                "0"
            ],
            "pipeline_override": {
                "启动自动钓鱼入口": {
                    "action": {
                        "param": {
                            "custom_action_param": {
                                "max_success_fishing_count": "{需要的最大成功钓鱼数量}"
                            }
                        }
                    }
                }
            },
            "doc": "需要的最大成功钓鱼数量，默认设置0为无限钓鱼"
        },
        "登录超时时长": {
            "field": [
                "登录超时时长（秒）"
            ],
            "type": [
                "int"
            ],
            "default": [
                "240"
            ],
            "pipeline_override": {
                "获取参数-登录超时时长": {
                    "attach": {
                        "login_timeout": "{登录超时时长（秒）}"
                    }
                }
            },
            "doc": "星痕共鸣启动游戏准备登录前的超时时长，单位为秒，不填默认240秒"
        },
        "场景切换超时时长": {
            "field": [
                "场景切换超时时长（秒）"
            ],
            "type": [
                "int"
            ],
            "default": [
                "90"
            ],
            "pipeline_override": {
                "获取参数-登录超时时长": {
                    "attach": {
                        "area_change_timeout": "{场景切换超时时长（秒）}"
                    }
                }
            },
            "doc": "星痕共鸣进入游戏后等待地图加载的超时时间，单位为秒，不填默认90秒"
        }
    }
}
